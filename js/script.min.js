window.addEventListener("load",function(){const e=document.querySelector(".loading-screen");e&&setTimeout(function(){e.classList.add("hidden"),setTimeout(function(){e.remove()},500)},300)}),document.addEventListener("DOMContentLoaded",function(){const e=document.createElement("div");e.className="loading-screen",e.innerHTML='<div class="loader"></div>',document.body.prepend(e);const t=document.createElement("button");t.className="back-to-top",t.setAttribute("aria-label","Back to top"),t.innerHTML='\n        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>\n        </svg>\n    ',document.body.appendChild(t),window.addEventListener("scroll",function(){window.pageYOffset>300?t.classList.add("visible"):t.classList.remove("visible")}),t.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})});const s=document.querySelector(".menu-toggle"),n=document.querySelector(".nav-links"),o=document.querySelector(".header-search");function i(){if(window.innerWidth<=768&&o&&n){let e=n.querySelector(".mobile-search");if(!e){e=document.createElement("div"),e.className="mobile-search";const t=document.createElement("input");t.type="text",t.id="mobile-global-search",t.placeholder="Search products & blog...";const s=document.createElement("div");s.id="mobile-search-results",s.className="search-results",e.appendChild(t),e.appendChild(s),n.insertBefore(e,n.firstChild),"function"==typeof initializeSearch&&initializeSearch("mobile-global-search","mobile-search-results")}}else{const e=n.querySelector(".mobile-search");e&&e.remove()}}let a;setTimeout(i,100),window.addEventListener("resize",function(){clearTimeout(a),a=setTimeout(i,250)}),s&&s.addEventListener("click",function(){n.classList.toggle("active"),this.classList.toggle("active")}),document.addEventListener("click",function(e){e.target.closest(".navbar")||(n.classList.remove("active"),s&&s.classList.remove("active"))});const c=document.getElementById("contact-form");c&&c.addEventListener("submit",async function(e){e.preventDefault();const t=document.getElementById("form-message"),s=this.querySelector('button[type="submit"]');s.disabled=!0,s.textContent="Sending...";try{if(!(await fetch(this.action,{method:"POST",body:new FormData(this),headers:{Accept:"application/json"}})).ok)throw new Error("Form submission failed");"function"==typeof showToast&&showToast("Your message has been sent successfully!","success"),t.textContent="Thank you! Your message has been sent successfully.",t.className="form-message success",t.style.display="block",c.reset()}catch(e){"function"==typeof showToast&&showToast("There was a problem sending your message. Please try again.","error"),t.textContent="Oops! There was a problem sending your message. Please try again.",t.className="form-message error",t.style.display="block"}s.disabled=!1,s.textContent="Send Message",setTimeout(function(){t.style.display="none"},5e3)});const r=document.getElementById("newsletter-form");r&&r.addEventListener("submit",async function(e){e.preventDefault();const t=document.getElementById("newsletter-message"),s=this.querySelector('button[type="submit"]'),n=this.querySelector('input[type="email"]');s.disabled=!0,s.textContent="Subscribing...";try{if(!(await fetch(this.action,{method:"POST",body:new FormData(this),headers:{Accept:"application/json"}})).ok)throw new Error("Subscription failed");"function"==typeof showToast&&showToast("Thank you for subscribing to our newsletter!","success"),t.textContent="âœ“ Thank you for subscribing!",t.className="newsletter-message success",t.style.display="block",n.value=""}catch(e){"function"==typeof showToast&&showToast("Something went wrong. Please try again.","error"),t.textContent="Oops! Something went wrong. Please try again.",t.className="newsletter-message error",t.style.display="block"}s.disabled=!1,s.textContent="Subscribe",setTimeout(function(){t.style.display="none"},5e3)})});