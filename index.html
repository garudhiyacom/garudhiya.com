<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Garudhiya - Your trusted source for quality products and information">
    <title>Garudhiya - Home</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <script src="assets/js/blogs.js" defer></script>
    <script src="assets/js/products.js" defer></script>
    <script src="assets/js/script.js" defer></script>
</head>
<body>
    <header>
        <h1>Garudhiya</h1>
        <nav>
            <input type="search" placeholder="Search...">
            <a href="index.html">Home</a>
            <a href="products.html">Products</a>
            <a href="blog.html">Blog</a>
            <a href="contact.html">Contact</a>
        </nav>
    </header>

    <main></main>

    <footer>
        <p>&copy; 2025 Garudhiya &middot; All Rights Reserved</p>
    </footer>

    <script>
        // ========================================
        // HOME PAGE SECTIONS
        // ========================================

        // Create grid container
        function createGrid() {
            const grid = document.createElement('div');
            grid.style.cssText = 'display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;';
            return grid;
        }

        // Create section wrapper
        function createSection(title) {
            const section = document.createElement('div');
            section.style.marginTop = '40px';
            section.innerHTML = `<h2 style="margin-bottom: 20px;">${title}</h2>`;
            return section;
        }

        // Load latest blog post preview
        function loadLatestBlog() {
            const main = document.querySelector('main');
            if (!main) return;
            
            const latestPost = getLatestPost();
            if (!latestPost) {
                main.innerHTML = '<article><h2>No content available</h2><p>Check back soon!</p></article>';
                return;
            }
            
            const article = document.createElement('article');
            article.innerHTML = `
                <h2>${latestPost.title}</h2>
                <img src="${latestPost.img}" alt="${latestPost.title}" onerror="this.src='assets/images/placeholder.jpg'">
                <p>${latestPost.excerpt}</p>
                <p>By ${latestPost.author} on ${latestPost.date}</p>
                <a href="blog-details.html?id=${latestPost.id}">Read More</a>
            `;
            main.appendChild(article);
        }
        
        // Load featured blog posts
        function loadFeaturedPosts() {
            const main = document.querySelector('main');
            if (!main) return;
            
            const section = createSection('Featured Posts');
            const grid = createGrid();
            const featured = getRandomPosts(4);
            
            featured.forEach(post => {
                const article = document.createElement('article');
                article.innerHTML = `
                    <h3 style="font-size: 1.2em;">${post.title}</h3>
                    <img src="${post.img}" alt="${post.title}" onerror="this.src='assets/images/placeholder.jpg'" style="height: 150px; object-fit: cover;">
                    <p style="font-size: 0.9em;">${post.excerpt}</p>
                    <a href="blog-details.html?id=${post.id}">Read More</a>
                `;
                grid.appendChild(article);
            });
            
            section.appendChild(grid);
            main.appendChild(section);
        }
        
        // Load featured products
        function loadFeaturedProducts() {
            const main = document.querySelector('main');
            if (!main) return;
            
            const section = createSection('Our Products');
            const grid = createGrid();
            const featured = getRandomProducts(4);
            
            featured.forEach(product => {
                const article = document.createElement('article');
                article.innerHTML = `
                    <h3 style="font-size: 1.2em;">${product.name}</h3>
                    <img src="${product.img}" alt="${product.name}" onerror="this.src='assets/images/placeholder.jpg'" style="height: 150px; object-fit: cover;">
                    <p><strong>Category:</strong> ${product.category}</p>
                    <p style="font-size: 0.9em;">${product.description}</p>
                    <p><strong>Price:</strong> ${product.price}</p>
                `;
                grid.appendChild(article);
            });
            
            section.appendChild(grid);
            main.appendChild(section);
        }
        
        // Load newsletter section
        function loadNewsletterSection() {
            const main = document.querySelector('main');
            if (!main) return;
            
            const section = document.createElement('div');
            section.style.marginTop = '40px';
            
            const article = document.createElement('article');
            article.style.textAlign = 'center';
            article.innerHTML = `
                <h2>Subscribe to Our Newsletter</h2>
                <p>Stay updated with our latest blog posts and product releases.</p>
                <form id="newsletterForm" style="margin-top: 20px;">
                    <input type="email" id="newsletter-email" placeholder="Enter your email" required style="padding: 10px; width: 300px; max-width: 100%; border: 1px solid #ddd; margin-right: 10px;">
                    <button type="submit" style="padding: 10px 20px; background-color: #333; color: white; border: none; cursor: pointer;">Subscribe</button>
                </form>
            `;
            
            section.appendChild(article);
            main.appendChild(section);
        }

        // Initialize home page
        function initHomePage() {
            loadLatestBlog();
            loadFeaturedPosts();
            loadFeaturedProducts();
            loadNewsletterSection();
        }

        // Run on page load
        window.addEventListener('DOMContentLoaded', initHomePage);
    </script>
</body>
</html>
